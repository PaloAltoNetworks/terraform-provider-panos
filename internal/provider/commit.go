package provider

// Note:  This file is automatically generated.  Manually made changes
// will be overwritten when the provider is generated.

import (
	"context"
	"fmt"

	"github.com/PaloAltoNetworks/pango"

	"github.com/hashicorp/terraform-plugin-framework/action"
	"github.com/hashicorp/terraform-plugin-framework/action/schema"
	"github.com/hashicorp/terraform-plugin-framework/attr"
)

var (
	_ action.ActionWithConfigure = &CommitAction{}
)

func NewCommitAction() action.Action {
	return &CommitAction{}
}

type CommitAction struct {
	client *pango.Client
}

type CommitActionModel struct {
}

func CommitActionSchema() schema.Schema {
	return schema.Schema{
		Attributes: map[string]schema.Attribute{},
	}
}

func (o *CommitActionModel) getTypeFor(name string) attr.Type {
	schema := CommitActionSchema()
	if attr, ok := schema.Attributes[name]; !ok {
		panic(fmt.Sprintf("could not resolve schema for attribute %s", name))
	} else {
		switch attr := attr.(type) {
		default:
			return attr.GetType()
		}
	}

	panic("unreachable")
}

func (o *CommitAction) Metadata(ctx context.Context, req action.MetadataRequest, resp *action.MetadataResponse) {
	resp.TypeName = req.ProviderTypeName + "_commit"
}

func (o *CommitAction) Schema(_ context.Context, _ action.SchemaRequest, resp *action.SchemaResponse) {
	resp.Schema = CommitActionSchema()
}

func (o *CommitAction) Invoke(ctx context.Context, req action.InvokeRequest, resp *action.InvokeResponse) {
	o.InvokeCustom(ctx, req, resp)
}

func (o *CommitAction) Configure(ctx context.Context, req action.ConfigureRequest, resp *action.ConfigureResponse) {
	// Prevent panic if the provider has not been configured.
	if req.ProviderData == nil {
		return
	}

	providerData := req.ProviderData.(*ProviderData)
	o.client = providerData.Client
}
