package provider

// Note:  This file is automatically generated.  Manually made changes
// will be overwritten when the provider is generated.

import (
	"context"
	"fmt"

	"github.com/PaloAltoNetworks/pango"

	"github.com/hashicorp/terraform-plugin-framework/attr"
	"github.com/hashicorp/terraform-plugin-framework/ephemeral"
	ephschema "github.com/hashicorp/terraform-plugin-framework/ephemeral/schema"
	"github.com/hashicorp/terraform-plugin-framework/resource"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

// Generate Terraform Ephemeral object
var (
	_ ephemeral.EphemeralResource              = &VmAuthKeyResource{}
	_ ephemeral.EphemeralResourceWithConfigure = &VmAuthKeyResource{}
)

func NewVmAuthKeyResource() ephemeral.EphemeralResource {
	return &VmAuthKeyResource{}
}

type VmAuthKeyResource struct {
	client *pango.Client
}

type VmAuthKeyResourceModel struct {
	Lifetime       types.Int64  `tfsdk:"lifetime"`
	VmAuthKey      types.String `tfsdk:"vm_auth_key"`
	ExpirationDate types.String `tfsdk:"expiration_date"`
}

func (o *VmAuthKeyResource) ValidateConfig(ctx context.Context, req resource.ValidateConfigRequest, resp *resource.ValidateConfigResponse) {
}

// <ResourceSchema>

func VmAuthKeyResourceSchema() ephschema.Schema {
	return ephschema.Schema{
		Attributes: map[string]ephschema.Attribute{

			"lifetime": ephschema.Int64Attribute{
				Description: "",
				Computed:    false,
				Required:    true,
				Optional:    false,
				Sensitive:   false,
			},

			"vm_auth_key": ephschema.StringAttribute{
				Description: "",
				Computed:    true,
				Required:    false,
				Optional:    true,
				Sensitive:   true,
			},

			"expiration_date": ephschema.StringAttribute{
				Description: "",
				Computed:    true,
				Required:    false,
				Optional:    true,
				Sensitive:   false,
			},
		},
	}
}

func (o *VmAuthKeyResourceModel) getTypeFor(name string) attr.Type {
	schema := VmAuthKeyResourceSchema()
	if attr, ok := schema.Attributes[name]; !ok {
		panic(fmt.Sprintf("could not resolve schema for attribute %s", name))
	} else {
		switch attr := attr.(type) {
		case ephschema.ListNestedAttribute:
			return attr.NestedObject.Type()
		case ephschema.MapNestedAttribute:
			return attr.NestedObject.Type()
		default:
			return attr.GetType()
		}
	}

	panic("unreachable")
}

func (o *VmAuthKeyResource) Metadata(ctx context.Context, req ephemeral.MetadataRequest, resp *ephemeral.MetadataResponse) {
	resp.TypeName = req.ProviderTypeName + "_vm_auth_key"
}

func (o *VmAuthKeyResource) Schema(_ context.Context, _ ephemeral.SchemaRequest, resp *ephemeral.SchemaResponse) {
	resp.Schema = VmAuthKeyResourceSchema()
}

// </ResourceSchema>

func (o *VmAuthKeyResource) Configure(ctx context.Context, req ephemeral.ConfigureRequest, resp *ephemeral.ConfigureResponse) {
	// Prevent panic if the provider has not been configured.
	if req.ProviderData == nil {
		return
	}

	providerData := req.ProviderData.(*ProviderData)
	o.client = providerData.Client
}

func (o *VmAuthKeyResourceModel) AttributeTypes() map[string]attr.Type {

	return map[string]attr.Type{
		"lifetime":        types.Int64Type,
		"vm_auth_key":     types.StringType,
		"expiration_date": types.StringType,
	}
}

func (o VmAuthKeyResourceModel) AncestorName() string {
	return ""
}

func (o VmAuthKeyResourceModel) EntryName() *string {
	return nil
}

func (o *VmAuthKeyResourceModel) resourceXpathParentComponents() ([]string, error) {
	var components []string
	return components, nil
}

func (o *VmAuthKeyResource) Open(ctx context.Context, req ephemeral.OpenRequest, resp *ephemeral.OpenResponse) {

	o.OpenCustom(ctx, req, resp)

}

func (o *VmAuthKeyResource) ImportState(ctx context.Context, req resource.ImportStateRequest, resp *resource.ImportStateResponse) {

}
